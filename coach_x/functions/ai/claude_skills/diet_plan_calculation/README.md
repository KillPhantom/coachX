# Nutrition Calculator Skill v2.0 - ä½¿ç”¨è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ª**ä¸“ä¸šçš„è¥å…»è®¡ç®—skill v2.0**ï¼Œä¸ä»…èƒ½è®¡ç®—ç²¾ç¡®çš„çƒ­é‡å’Œmacrosï¼Œè¿˜èƒ½ç”Ÿæˆè¯¦ç»†çš„é¥®é£Ÿè®¡åˆ’ï¼Œæ”¯æŒè®­ç»ƒè®¡åˆ’é›†æˆå’Œç¢³å¾ªç¯ç­‰é«˜çº§åŠŸèƒ½ã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

- **ç§‘å­¦è®¡ç®—**: ä½¿ç”¨Mifflin-St Jeorå…¬å¼è®¡ç®—åŸºç¡€ä»£è°¢ç‡ï¼ˆBMRï¼‰
- **ä¸ªæ€§åŒ–æ–¹æ¡ˆ**: æ ¹æ®ç”¨æˆ·ç›®æ ‡ï¼ˆå¢è‚Œ/å‡è„‚/ç»´æŒï¼‰è°ƒæ•´è¥å…»ç­–ç•¥
- **è®­ç»ƒè®¡åˆ’é›†æˆ**: æ ¹æ®è®­ç»ƒæ—¥/ä¼‘æ¯æ—¥åŠ¨æ€è°ƒæ•´è¥å…»æ‘„å…¥
- **ç¢³å¾ªç¯æ”¯æŒ**: è®­ç»ƒæ—¥é«˜ç¢³æ°´ï¼Œä¼‘æ¯æ—¥ä½ç¢³æ°´
- **è¯¦ç»†é¥®é£Ÿè®¡åˆ’**: æŒ‰å¤©/é¤/é£Ÿç‰©ç”Ÿæˆå®Œæ•´çš„7å¤©é¥®é£Ÿè®¡åˆ’
- **é¥®é£Ÿåå¥½**: æ”¯æŒç´ é£Ÿã€çº¯ç´ ã€ç”Ÿé…®ã€é—´æ­‡æ€§æ–­é£Ÿç­‰
- **è¿‡æ•ç®¡ç†**: è‡ªåŠ¨æ’é™¤è¿‡æ•åŸé£Ÿç‰©

## ğŸ†• v2.0 æ–°åŠŸèƒ½

### 1. **è®­ç»ƒè®¡åˆ’é›†æˆ**
æ ¹æ®è®­ç»ƒè®¡åˆ’è‡ªåŠ¨è°ƒæ•´æ¯å¤©çš„è¥å…»æ‘„å…¥ï¼š
- è®­ç»ƒæ—¥ï¼šæ›´é«˜ç¢³æ°´ï¼Œæ”¯æŒè¿åŠ¨è¡¨ç°å’Œæ¢å¤
- ä¼‘æ¯æ—¥ï¼šé™ä½ç¢³æ°´ï¼Œä¼˜åŒ–èº«ä½“æˆåˆ†

### 2. **ç¢³å¾ªç¯ç­–ç•¥**
åœ¨è®­ç»ƒæ—¥å’Œä¼‘æ¯æ—¥ä¹‹é—´å¾ªç¯ç¢³æ°´æ‘„å…¥ï¼š
- è®­ç»ƒæ—¥ï¼š+20%ç¢³æ°´ï¼Œ-10%è„‚è‚ª
- ä¼‘æ¯æ—¥ï¼š-20%ç¢³æ°´ï¼Œ+10%è„‚è‚ª

### 3. **è¯¦ç»†é¥®é£Ÿè®¡åˆ’ç”Ÿæˆ**
æä¾›ï¼š
- æ¯å¤©4-5é¤çš„å…·ä½“å®‰æ’
- æ¯é¤åŒ…å«çš„å…·ä½“é£Ÿç‰©å’Œä»½é‡
- æ¯ä¸ªé£Ÿç‰©çš„è¯¦ç»†è¥å…»æ•°æ®
- é€‚åˆè®­ç»ƒçš„æ—¶é—´å’Œå¤‡æ³¨

### 4. **é¥®é£Ÿåå¥½æ”¯æŒ**
- `vegetarian` - ç´ é£Ÿï¼ˆæ— è‚‰ç±»ï¼‰
- `vegan` - çº¯ç´ ï¼ˆæ— åŠ¨ç‰©äº§å“ï¼‰
- `carb_cycling` - ç¢³å¾ªç¯
- `intermittent_fasting` - é—´æ­‡æ€§æ–­é£Ÿ
- `keto` - ç”Ÿé…®é¥®é£Ÿ
- `high_carb` - é«˜ç¢³æ°´

### 5. **è¿‡æ•åŸç®¡ç†**
è‡ªåŠ¨æ’é™¤æŒ‡å®šçš„è¿‡æ•åŸï¼š
- `dairy` - ä¹³åˆ¶å“
- `nuts` - åšæœ
- `gluten` - éº¸è´¨

## ğŸ“ è¾“å…¥å‚æ•°è¯´æ˜

### å¿…éœ€å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `weight_kg` | number | ä½“é‡ï¼ˆå…¬æ–¤ï¼‰ | 70 |
| `height_cm` | number | èº«é«˜ï¼ˆå˜ç±³ï¼‰ | 175 |
| `age` | number | å¹´é¾„ï¼ˆå²ï¼‰ | 30 |
| `gender` | string | æ€§åˆ« | "male" æˆ– "female" |
| `activity_level` | string | æ´»åŠ¨æ°´å¹³ | "moderately_active" |
| `goal` | string | ç›®æ ‡ | "muscle_gain" |

### å¯é€‰å‚æ•°ï¼ˆæ–°å¢ï¼‰

| å‚æ•° | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|------|--------|
| `body_fat_percentage` | number | ä½“è„‚ç‡ï¼ˆ%ï¼‰ | - |
| `goal_rate_kg_per_month` | number | ç›®æ ‡å˜åŒ–é€Ÿç‡ï¼ˆkg/æœˆï¼‰ | å¢è‚Œ0.25ï¼Œå‡è„‚0.5 |
| `training_plan` | object | è®­ç»ƒè®¡åˆ’ï¼ˆè§ä¸‹æ–¹æ ¼å¼ï¼‰ | - |
| `dietary_preferences` | array | é¥®é£Ÿåå¥½æ•°ç»„ | [] |
| `meal_count` | number | æ¯æ—¥é¤æ•° | 4 |
| `allergies` | array | è¿‡æ•åŸåˆ—è¡¨ | [] |
| `plan_duration_days` | number | è®¡åˆ’å¤©æ•° | 7 |

### è®­ç»ƒè®¡åˆ’æ ¼å¼

```json
{
  "training_plan": {
    "days_per_week": 5,
    "schedule": [
      {
        "day": 1,
        "type": "strength",
        "focus": "upper_body",
        "intensity": "high"
      },
      {
        "day": 2,
        "type": "rest"
      },
      {
        "day": 3,
        "type": "strength",
        "focus": "lower_body",
        "intensity": "high"
      },
      {
        "day": 4,
        "type": "cardio",
        "duration_minutes": 30,
        "intensity": "moderate"
      },
      {
        "day": 5,
        "type": "strength",
        "focus": "full_body",
        "intensity": "moderate"
      }
    ]
  }
}
```

**è®­ç»ƒç±»å‹**:
- `strength` - åŠ›é‡è®­ç»ƒ
- `cardio` - æœ‰æ°§è¿åŠ¨
- `hiit` - é«˜å¼ºåº¦é—´æ­‡è®­ç»ƒ
- `sports` - è¿åŠ¨/ç«æŠ€
- `rest` - ä¼‘æ¯

**è®­ç»ƒéƒ¨ä½** (focus):
- `upper_body` - ä¸ŠåŠèº«
- `lower_body` - ä¸‹åŠèº«
- `full_body` - å…¨èº«
- `core` - æ ¸å¿ƒ

**è®­ç»ƒå¼ºåº¦** (intensity):
- `low` - ä½å¼ºåº¦
- `moderate` - ä¸­ç­‰å¼ºåº¦
- `high` - é«˜å¼ºåº¦

## ğŸ“¤ è¾“å‡ºæ ¼å¼ï¼ˆv2.0ï¼‰

```json
{
  "bmr_kcal": 1648.8,
  "tdee_kcal": 2555.6,
  "target_calories_kcal": 2810,
  "calorie_adjustment": 250,
  "macros": {
    "protein": {...},
    "fat": {...},
    "carbohydrates": {...}
  },
  "weekly_weight_change_kg": 0.227,
  "diet_plan_recommendation": {
    "name": "7å¤©å¢è‚Œè®¡åˆ’",
    "description": "åŸºäºä½ çš„å¢è‚Œç›®æ ‡å®šåˆ¶ï¼Œé‡‡ç”¨ç¢³å¾ªç¯ç­–ç•¥ï¼Œé…åˆ5å¤©/å‘¨è®­ç»ƒ",
    "days": [
      {
        "day": 1,
        "name": "Day 1 - è®­ç»ƒæ—¥ (strength)",
        "is_training_day": true,
        "training_type": "strength",
        "completed": false,
        "daily_targets": {
          "calories": 3071.0,
          "protein": 140.0,
          "carbs": 486.0,
          "fat": 63.0
        },
        "meals": [
          {
            "name": "æ—©é¤",
            "time": "07:00",
            "note": "è®­ç»ƒå‰2å°æ—¶ï¼Œæä¾›ç¨³å®šèƒ½é‡",
            "completed": false,
            "meal_totals": {
              "protein": 30.8,
              "carbs": 63.0,
              "fat": 16.6,
              "calories": 529.4
            },
            "items": [
              {
                "food": "é¸¡èƒ¸è‚‰",
                "amount": "73g",
                "protein": 22.6,
                "carbs": 0.0,
                "fat": 2.6,
                "calories": 120.5,
                "isCustomInput": false
              },
              {
                "food": "ç™½ç±³é¥­",
                "amount": "200g (ç†Ÿ)",
                "protein": 5.4,
                "carbs": 56.0,
                "fat": 0.6,
                "calories": 260.0,
                "isCustomInput": false
              }
              // ... æ›´å¤šé£Ÿç‰©
            ]
          }
          // ... æ›´å¤šé¤æ¬¡
        ]
      }
      // ... æ›´å¤šå¤©æ•°
    ]
  }
}
```

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹
```


 `/skill_usage_example.md` è¿›è¡Œé›†æˆ


## ğŸ“š é£Ÿç‰©æ•°æ®åº“

Skillå†…ç½®äº†ä¸°å¯Œçš„ä¸­æ–‡é£Ÿç‰©æ•°æ®åº“ï¼ŒåŒ…æ‹¬ï¼š

**è›‹ç™½è´¨æ¥æº**: é¸¡èƒ¸è‚‰ã€é¸¡è›‹ã€ä¸‰æ–‡é±¼ã€é‡‘æªé±¼ã€ç‰›è‚‰ã€è™¾ã€è±†è…ã€ä¹³æ¸…è›‹ç™½ç²‰

**ç¢³æ°´æ¥æº**: ç™½ç±³é¥­ã€ç³™ç±³é¥­ã€ç‡•éº¦ã€çº¢è–¯ã€åœŸè±†ã€å…¨éº¦é¢åŒ…ã€é¦™è•‰ã€æ„å¤§åˆ©é¢ã€è—œéº¦

**è„‚è‚ªæ¥æº**: æ©„æ¦„æ²¹ã€æä»ã€æ ¸æ¡ƒã€ç‰›æ²¹æœã€èŠ±ç”Ÿé…±

**è”¬èœ**: è¥¿å…°èŠ±ã€è èœã€ç•ªèŒ„ã€é»„ç“œã€èƒ¡èåœ

**ä¹³åˆ¶å“**: è„±è„‚ç‰›å¥¶ã€å¸Œè…Šé…¸å¥¶ã€å¥¶é…ª

## ğŸ¯ ç¢³å¾ªç¯è¯¦è§£

å¯ç”¨ç¢³å¾ªç¯åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒæ•´æ¯å¤©çš„macrosï¼š

| æ—¥æœŸç±»å‹ | ç¢³æ°´è°ƒæ•´ | è„‚è‚ªè°ƒæ•´ | è›‹ç™½è´¨ |
|---------|---------|---------|--------|
| è®­ç»ƒæ—¥ | +20% | -10% | ä¸å˜ |
| ä¼‘æ¯æ—¥ | -20% | +10% | ä¸å˜ |

**ç¤ºä¾‹ï¼ˆåŸºç¡€macros: è›‹ç™½140g, ç¢³æ°´405g, è„‚è‚ª70gï¼‰:**
- è®­ç»ƒæ—¥: è›‹ç™½140g, ç¢³æ°´486g, è„‚è‚ª63g
- ä¼‘æ¯æ—¥: è›‹ç™½140g, ç¢³æ°´324g, è„‚è‚ª77g

**å¥½å¤„:**
- è®­ç»ƒæ—¥é«˜ç¢³æ°´æ”¯æŒè¿åŠ¨è¡¨ç°å’Œæ¢å¤
- ä¼‘æ¯æ—¥ä½ç¢³æ°´ä¼˜åŒ–è„‚è‚ªä»£è°¢
- æ€»ä½“çƒ­é‡ç›¸è¿‘ï¼Œæ˜“äºåšæŒ

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸ªä½“å·®å¼‚**: å®é™…ä»£è°¢ç‡å¯èƒ½æœ‰Â±10%å·®å¼‚
2. **å®šæœŸè°ƒæ•´**: æ¯2-4å‘¨æ ¹æ®ä½“é‡å˜åŒ–å¾®è°ƒ
3. **é£Ÿç‰©å¤šæ ·æ€§**: è‡ªåŠ¨ç”Ÿæˆçš„è®¡åˆ’å¯æ›¿æ¢åŒç±»é£Ÿç‰©
4. **è®­ç»ƒè®¡åˆ’åŒæ­¥**: ç¡®ä¿è®­ç»ƒè®¡åˆ’ä¸å®é™…è®­ç»ƒä¿æŒä¸€è‡´
5. **ç¢³å¾ªç¯é€‚åº”æœŸ**: åˆæ¬¡ä½¿ç”¨ç¢³å¾ªç¯éœ€è¦1-2å‘¨é€‚åº”
6. **ç´ é£Ÿè›‹ç™½**: ç´ é£Ÿè€…éœ€è¦ç‰¹åˆ«æ³¨æ„è›‹ç™½è´¨æ‘„å…¥å……è¶³

## ğŸ“Š Flutteræ•°æ®æ¨¡å‹


å…³é”®æ•°æ®ç»“æ„ï¼š
```dart
class NutritionPlan {
  final double bmrKcal;
  final double tdeeKcal;
  final double targetCaloriesKcal;
  final Macros macros;
  final DietPlanRecommendation dietPlan;
  // ...
}

class DietPlanRecommendation {
  final String name;
  final String description;
  final List<DayPlan> days;
}

class DayPlan {
  final int day;
  final String name;
  final bool isTrainingDay;
  final String? trainingType;
  final DailyTargets dailyTargets;
  final List<Meal> meals;
}

class Meal {
  final String name;
  final String time;
  final String note;
  final MealTotals mealTotals;
  final List<FoodItem> items;
}

class FoodItem {
  final String food;
  final String amount;
  final double protein;
  final double carbs;
  final double fat;
  final double calories;
  final bool isCustomInput;
}
```